https://bugzilla.mozilla.org/show_bug.cgi?id=1517483

The issue is that there are instances of legacy code which uses a seperate module to check if a principal value is a system principal. From the documents (https://developer.mozilla.org/en-US/docs/Mozilla/Gecko/Script_security#Expanded_principal), it seems like principals are just a way to define which compartments of code a specific part of code can access. A system principal passes all security checks. The benefit of this is that the new version of the code requires less function calls and does not require to instantiate the nsIScriptSecurityManager object to determine if a principal variable is a system principal. Also, currently across the codebase there is no consistency in how this is called and after this bug is fixed they will be consistent and the legacy nsIScriptSecurityManager::IsSystemPrincipal can be removed.

On the bug report, the mentor provided a link to searchfox.org which shows all of the uses of the function. The solution was to evaluate each use of the function seperately and communicate with the mentor to figure out how it can be replaced with the new query through the principal variable for both C++ and JS files. Then we would have to run tests to see if the change breaks anything. If not then we can safely remove the API for nsIScriptSecurityManager::IsSystemPrincipal from the codebase.

Since this bug is more of a refactoring problem than a bugfix issue, the best testing procedure for it would be to make the said changes and run them through Mozilla's Phabricator test suites to see if there are any issues. This was the recommended by the mentor in comment #6 in response to my question.